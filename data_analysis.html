<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module data_analysis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>data_analysis</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/gpfs/home/e058/home/PythonScripts/python-iris/data_analysis.py">/gpfs/home/e058/home/PythonScripts/python-iris/data_analysis.py</a></font></td></tr></table>
    <p><tt>Data&nbsp;analysis&nbsp;using&nbsp;iris.<br>
&nbsp;<br>
Classes&nbsp;that&nbsp;provide&nbsp;iris&nbsp;data&nbsp;i/o&nbsp;wrappers&nbsp;to&nbsp;data&nbsp;analysis&nbsp;methods,<br>
often&nbsp;also&nbsp;using&nbsp;the&nbsp;iris&nbsp;module,&nbsp;for&nbsp;analysis&nbsp;of&nbsp;meteorological&nbsp;and<br>
oceanographic&nbsp;gridded&nbsp;data.<br>
&nbsp;<br>
Author:&nbsp;Adrian&nbsp;Matthews<br>
&nbsp;<br>
Create&nbsp;documentation&nbsp;with&nbsp;pydoc&nbsp;-w&nbsp;data_analysis<br>
&nbsp;<br>
Programming&nbsp;style:<br>
&nbsp;<br>
Object&nbsp;oriented!<br>
&nbsp;<br>
Class&nbsp;methods&nbsp;typically&nbsp;set&nbsp;an&nbsp;attribute(s)&nbsp;of&nbsp;the&nbsp;class&nbsp;instance.<br>
They&nbsp;typically&nbsp;do&nbsp;not&nbsp;return&nbsp;an&nbsp;argument.<br>
&nbsp;<br>
Printed&nbsp;output&nbsp;and&nbsp;information:<br>
&nbsp;<br>
The&nbsp;__init__&nbsp;method&nbsp;of&nbsp;each&nbsp;class&nbsp;has&nbsp;a&nbsp;'verbose'&nbsp;keyword&nbsp;argument.<br>
&nbsp;<br>
verbose=False&nbsp;(or&nbsp;0)&nbsp;suppresses&nbsp;printed&nbsp;output<br>
&nbsp;<br>
verbose=True&nbsp;(or&nbsp;1)&nbsp;prints&nbsp;limited&nbsp;output&nbsp;(typically&nbsp;a&nbsp;statement&nbsp;that&nbsp;a<br>
particular&nbsp;class&nbsp;attribute&nbsp;has&nbsp;been&nbsp;created)<br>
&nbsp;<br>
verbose=2&nbsp;prints&nbsp;extended&nbsp;output&nbsp;(typically&nbsp;the&nbsp;value&nbsp;of&nbsp;that&nbsp;class<br>
attribute).</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="datetime.html">datetime</a><br>
<a href="iris.html">iris</a><br>
</td><td width="25%" valign=top><a href="mypaths.html">mypaths</a><br>
<a href="numpy.html">numpy</a><br>
</td><td width="25%" valign=top><a href="os.html">os</a><br>
<a href="pdb.html">pdb</a><br>
</td><td width="25%" valign=top><a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="data_analysis.html#AnnualCycle">AnnualCycle</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#DataConverter">DataConverter</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#Hovmoller">Hovmoller</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#Interpolate">Interpolate</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#TimeAverage">TimeAverage</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#TimeDomStats">TimeDomStats</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#TimeDomain">TimeDomain</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#TimeFilter">TimeFilter</a>
</font></dt><dt><font face="helvetica, arial"><a href="data_analysis.html#Wind">Wind</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="AnnualCycle">class <strong>AnnualCycle</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Calculate&nbsp;and&nbsp;subtract&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;anncycle.py<br>
&nbsp;<br>
Assumes&nbsp;input&nbsp;data&nbsp;has&nbsp;equally&nbsp;spaced&nbsp;time&nbsp;intervals.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;<br>
self.<strong>frequency</strong>&nbsp;:&nbsp;string&nbsp;to&nbsp;denote&nbsp;frequency&nbsp;of&nbsp;input&nbsp;(and&nbsp;output)<br>
data,&nbsp;e.g.,&nbsp;'d'&nbsp;for&nbsp;daily&nbsp;data.<br>
&nbsp;<br>
self.<strong>year1</strong>&nbsp;and&nbsp;self.<strong>year2</strong>&nbsp;:&nbsp;integers.&nbsp;&nbsp;The&nbsp;annual&nbsp;cycle&nbsp;will&nbsp;be<br>
calculated&nbsp;using&nbsp;input&nbsp;data&nbsp;from&nbsp;0000:00&nbsp;UTC&nbsp;1&nbsp;Jan&nbsp;self.<strong>year1</strong>&nbsp;to<br>
2359:59&nbsp;31&nbsp;Dec&nbsp;self.<strong>year2</strong>.<br>
&nbsp;<br>
self.<strong>data_in</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;all&nbsp;input&nbsp;data.<br>
&nbsp;<br>
self.<strong>data_anncycle_raw</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;'raw'&nbsp;annual&nbsp;cycle.&nbsp;&nbsp;The<br>
data&nbsp;for&nbsp;e.g.&nbsp;5&nbsp;Jan&nbsp;is&nbsp;a&nbsp;simple&nbsp;mean&nbsp;of&nbsp;all&nbsp;the&nbsp;input&nbsp;data&nbsp;for&nbsp;5<br>
Jan.<br>
&nbsp;<br>
self.<strong>data_anncycle_smooth</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;smoothed&nbsp;annual&nbsp;cycle.<br>
Calculated&nbsp;from&nbsp;mean&nbsp;plus&nbsp;first&nbsp;self.<strong>nharm</strong>&nbsp;annual&nbsp;harmonics&nbsp;of<br>
self.<strong>data_anncycle_raw</strong>.<br>
&nbsp;<br>
self.<strong>nharm</strong>&nbsp;:&nbsp;integer&nbsp;number&nbsp;of&nbsp;annual&nbsp;harmonics&nbsp;to&nbsp;retain&nbsp;for<br>
smoothed&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
self.<strong>data_anncycle_rm</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;anomaly&nbsp;data&nbsp;with&nbsp;annual<br>
cycle&nbsp;subtracted.<br>
&nbsp;<br>
self.<strong>file_data_in</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;input&nbsp;data.&nbsp;&nbsp;Contains&nbsp;a<br>
wild&nbsp;card&nbsp;????&nbsp;character,&nbsp;which&nbsp;will&nbsp;be&nbsp;replaced&nbsp;by,&nbsp;e.g.,&nbsp;year<br>
numbers&nbsp;(if&nbsp;self.<strong>outfile_frequency</strong>&nbsp;is&nbsp;'year').<br>
&nbsp;<br>
self.<strong>file_anncycle_raw</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file&nbsp;of&nbsp;raw&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
self.<strong>file_anncycle_smooth</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file&nbsp;of&nbsp;smoothed&nbsp;annual<br>
cycle.<br>
&nbsp;<br>
self.<strong>file_anncycle_rm</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;data&nbsp;with<br>
smoothed&nbsp;annual&nbsp;cycle&nbsp;subtracted.&nbsp;&nbsp;Contains&nbsp;a&nbsp;wild&nbsp;card&nbsp;????<br>
character,&nbsp;which&nbsp;will&nbsp;be&nbsp;replaced&nbsp;by,&nbsp;e.g.,&nbsp;year&nbsp;numbers&nbsp;(if<br>
self.<strong>outfile_frequency</strong>&nbsp;is&nbsp;'year').<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="AnnualCycle-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="AnnualCycle-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_anncycle_raw"><strong>f_anncycle_raw</strong></a>(self)</dt><dd><tt>Create&nbsp;raw&nbsp;annual&nbsp;cycle&nbsp;and&nbsp;write&nbsp;to&nbsp;file.<br>
&nbsp;<br>
This&nbsp;will&nbsp;be&nbsp;assigned&nbsp;to&nbsp;year&nbsp;1,&nbsp;i.e.&nbsp;AD&nbsp;1.&nbsp;&nbsp;NB&nbsp;year&nbsp;1&nbsp;is&nbsp;not<br>
a&nbsp;leap&nbsp;year.<br>
&nbsp;<br>
Create&nbsp;data_anncycle_raw&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_anncycle_raw_old"><strong>f_anncycle_raw_old</strong></a>(self)</dt><dd><tt>Create&nbsp;raw&nbsp;annual&nbsp;cycle&nbsp;and&nbsp;write&nbsp;to&nbsp;file.<br>
&nbsp;<br>
This&nbsp;will&nbsp;be&nbsp;assigned&nbsp;to&nbsp;year&nbsp;1,&nbsp;i.e.&nbsp;AD&nbsp;1.&nbsp;&nbsp;NB&nbsp;year&nbsp;1&nbsp;is&nbsp;not<br>
a&nbsp;leap&nbsp;year.<br>
&nbsp;<br>
Code&nbsp;is&nbsp;rather&nbsp;slow&nbsp;as&nbsp;it&nbsp;loops&nbsp;over&nbsp;each&nbsp;day&nbsp;of&nbsp;the&nbsp;year,&nbsp;and<br>
reads&nbsp;in&nbsp;all&nbsp;data&nbsp;(e.g.,&nbsp;1&nbsp;Jan's)&nbsp;for&nbsp;that&nbsp;day&nbsp;and&nbsp;averages<br>
over&nbsp;them.&nbsp;&nbsp;Superceded&nbsp;by&nbsp;new&nbsp;version&nbsp;of&nbsp;f_anncycle_raw,&nbsp;but<br>
have&nbsp;left&nbsp;the&nbsp;code&nbsp;here&nbsp;as&nbsp;it&nbsp;has&nbsp;some&nbsp;good&nbsp;iris&nbsp;pointers.<br>
&nbsp;<br>
Create&nbsp;data_anncycle_raw&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_anncycle_smooth"><strong>f_anncycle_smooth</strong></a>(self)</dt><dd><tt>Calculate&nbsp;smoothed&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
This&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;mean&nbsp;and&nbsp;first&nbsp;self.<strong>nharm</strong>&nbsp;annual<br>
harmonics&nbsp;of&nbsp;the&nbsp;raw&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
f(t_i)=&nbsp;\overline&nbsp;f&nbsp;+&nbsp;\Sum_{k=1}^\{nharm}&nbsp;A_k&nbsp;\cos&nbsp;\omega_k&nbsp;t<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;B_k&nbsp;\sin&nbsp;\omega_k&nbsp;t<br>
&nbsp;<br>
\omega_k&nbsp;=&nbsp;2\pi&nbsp;k&nbsp;/&nbsp;T<br>
&nbsp;<br>
A_k&nbsp;=&nbsp;2/N&nbsp;\Sum_{k=1}^\{N}&nbsp;f(t_i)&nbsp;\cos&nbsp;\omega_k&nbsp;t_i<br>
&nbsp;<br>
B_k&nbsp;=&nbsp;2/N&nbsp;\Sum_{k=1}^\{N}&nbsp;f(t_i)&nbsp;\sin&nbsp;\omega_k&nbsp;t_i<br>
&nbsp;<br>
Create&nbsp;data_mean,&nbsp;data_anncycle_smooth,<br>
data_anncycle_smooth_leap&nbsp;attributes.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_read_anncycle_raw"><strong>f_read_anncycle_raw</strong></a>(self)</dt><dd><tt>Read&nbsp;previously&nbsp;created&nbsp;raw&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
Create&nbsp;data_anncycle_raw&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_read_anncycle_smooth"><strong>f_read_anncycle_smooth</strong></a>(self)</dt><dd><tt>Read&nbsp;previously&nbsp;calculated&nbsp;smoothed&nbsp;annual&nbsp;cycle.<br>
&nbsp;<br>
Create&nbsp;data_anncycle_smooth&nbsp;and&nbsp;data_anncycle_smooth_leap<br>
attributes.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_read_subtract_anncycle"><strong>f_read_subtract_anncycle</strong></a>(self)</dt><dd><tt>Read&nbsp;previously&nbsp;calculatedanomaly&nbsp;data&nbsp;(annual&nbsp;cycle&nbsp;subtracted).<br>
&nbsp;<br>
Create&nbsp;data_anncycle_rm&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="AnnualCycle-f_subtract_anncycle"><strong>f_subtract_anncycle</strong></a>(self)</dt><dd><tt>Subtract&nbsp;smoothed&nbsp;annual&nbsp;cycle&nbsp;from&nbsp;input&nbsp;data&nbsp;to&nbsp;create&nbsp;anomaly&nbsp;data.<br>
&nbsp;<br>
Read&nbsp;in&nbsp;input&nbsp;data&nbsp;and&nbsp;process&nbsp;and&nbsp;write&nbsp;output&nbsp;data&nbsp;(anomaly<br>
with&nbsp;smoothed&nbsp;annual&nbsp;cycle&nbsp;subtracted)&nbsp;in&nbsp;chunks&nbsp;of<br>
outfile_frequency,&nbsp;e.g.,&nbsp;'year'.<br>
&nbsp;<br>
Makes&nbsp;allowance&nbsp;for&nbsp;input&nbsp;data&nbsp;not&nbsp;having&nbsp;to&nbsp;start&nbsp;on&nbsp;1&nbsp;Jan&nbsp;or<br>
end&nbsp;on&nbsp;31&nbsp;Dec.<br>
&nbsp;<br>
Create&nbsp;data_anncycle_rm&nbsp;attribute.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="DataConverter">class <strong>DataConverter</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Converter&nbsp;to&nbsp;iris-friendly&nbsp;standard&nbsp;format&nbsp;netcdf&nbsp;files.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;preprocess.py.<br>
&nbsp;<br>
Using&nbsp;iris,&nbsp;read&nbsp;in&nbsp;data&nbsp;from&nbsp;different&nbsp;sources.&nbsp;&nbsp;Convert&nbsp;to<br>
standard&nbsp;cube&nbsp;format&nbsp;and&nbsp;file&nbsp;format.&nbsp;&nbsp;Write&nbsp;to&nbsp;new&nbsp;netcdf&nbsp;file.<br>
&nbsp;<br>
Code&nbsp;is&nbsp;flexible&nbsp;to&nbsp;allow&nbsp;for&nbsp;new&nbsp;input&nbsp;data&nbsp;sources.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;<br>
self.<strong>basedir</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;base&nbsp;directory&nbsp;for&nbsp;all&nbsp;data<br>
&nbsp;<br>
self.<strong>source</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;data&nbsp;source,&nbsp;e.g.,&nbsp;'ncepdoe_plev_d',<br>
'ncepdoe_plev_6h',&nbsp;'ncepdoe_sfc_6h',&nbsp;'olrcdr_toa_d'&nbsp;etc.&nbsp;&nbsp;There<br>
is&nbsp;a&nbsp;different&nbsp;source&nbsp;for&nbsp;each&nbsp;different&nbsp;combination&nbsp;of&nbsp;source<br>
data&nbsp;set&nbsp;(e.g.,&nbsp;NCEP-DOE&nbsp;reanalysis),&nbsp;type&nbsp;of&nbsp;level&nbsp;(e.g.,<br>
pressure&nbsp;level),&nbsp;and&nbsp;frequency&nbsp;of&nbsp;input&nbsp;data&nbsp;(e.g.,&nbsp;daily).&nbsp;&nbsp;The<br>
string&nbsp;should&nbsp;be&nbsp;in&nbsp;the&nbsp;format<br>
'&lt;data_source&gt;_&lt;level_type&gt;_&lt;frequency&gt;'.&nbsp;&nbsp;In&nbsp;practice,&nbsp;the&nbsp;source<br>
attribute&nbsp;is&nbsp;used&nbsp;to&nbsp;set&nbsp;the&nbsp;directory&nbsp;in&nbsp;which&nbsp;the&nbsp;netcdf&nbsp;files<br>
are&nbsp;stored:<br>
&nbsp;&nbsp;&nbsp;&lt;self.<strong>basedir</strong>&gt;/&lt;self.<strong>source</strong>&gt;/raw/&nbsp;for&nbsp;original&nbsp;data&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;original&nbsp;format&nbsp;downloaded&nbsp;from&nbsp;data&nbsp;source&nbsp;web&nbsp;site.&nbsp;&nbsp;Netcdf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files&nbsp;in&nbsp;this&nbsp;directory&nbsp;are&nbsp;the&nbsp;input&nbsp;to&nbsp;<a href="#DataConverter">DataConverter</a><br>
&nbsp;&nbsp;&nbsp;&lt;self.<strong>basedir</strong>&gt;/&lt;self.<strong>source</strong>&gt;/std/&nbsp;for&nbsp;the&nbsp;converted,&nbsp;standardised<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data,&nbsp;i.e.,&nbsp;the&nbsp;output&nbsp;of&nbsp;<a href="#DataConverter">DataConverter</a><br>
&nbsp;&nbsp;&nbsp;&lt;self.<strong>basedir</strong>&gt;/&lt;self.<strong>source</strong>&gt;/processed/&nbsp;for&nbsp;any&nbsp;subsequent&nbsp;analysis<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;the&nbsp;data,&nbsp;e.g.,&nbsp;time&nbsp;means&nbsp;etc.&nbsp;&nbsp;<a href="#DataConverter">DataConverter</a>&nbsp;does&nbsp;not&nbsp;use&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory.<br>
&nbsp;<br>
self.<strong>data_source</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;data&nbsp;source,&nbsp;e.g.,&nbsp;'ncepdoe',<br>
'olrcdr',&nbsp;etc.&nbsp;&nbsp;Note&nbsp;that&nbsp;a&nbsp;particular&nbsp;data_source&nbsp;implies&nbsp;a<br>
particular&nbsp;latitude-longitude&nbsp;grid,&nbsp;e.g.,&nbsp;'ncepdoe'&nbsp;is&nbsp;a&nbsp;73x144<br>
grid.&nbsp;&nbsp;This&nbsp;is&nbsp;relevant&nbsp;for&nbsp;file&nbsp;sizes&nbsp;and&nbsp;self.<strong>outfile_frequency</strong>.<br>
&nbsp;<br>
self.<strong>level_type</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;level&nbsp;type,&nbsp;e.g.,&nbsp;'plev',&nbsp;'toa',<br>
'sfc',&nbsp;'theta',&nbsp;etc.&nbsp;&nbsp;This&nbsp;is&nbsp;determined&nbsp;by&nbsp;self.<strong>source</strong>.<br>
&nbsp;<br>
self.<strong>frequency</strong>&nbsp;:&nbsp;string&nbsp;denoting&nbsp;time&nbsp;frequency&nbsp;of&nbsp;data.&nbsp;&nbsp;This&nbsp;is<br>
used&nbsp;in&nbsp;file&nbsp;names.&nbsp;&nbsp;It&nbsp;is&nbsp;determined&nbsp;by&nbsp;self.<strong>source</strong>.&nbsp;&nbsp;One&nbsp;of:<br>
&nbsp;&nbsp;&nbsp;'3'&nbsp;3-hourly<br>
&nbsp;&nbsp;&nbsp;'6'&nbsp;6-hourly<br>
&nbsp;&nbsp;&nbsp;'d'&nbsp;daily<br>
&nbsp;&nbsp;&nbsp;'p'&nbsp;pentad&nbsp;(5-day)<br>
&nbsp;&nbsp;&nbsp;'w'&nbsp;weekly&nbsp;(7-day)<br>
&nbsp;&nbsp;&nbsp;'m'&nbsp;monthly&nbsp;(calendar&nbsp;month)<br>
&nbsp;<br>
self.<strong>outfile_frequency</strong>&nbsp;:&nbsp;string&nbsp;denoting&nbsp;the&nbsp;time&nbsp;coverage&nbsp;of&nbsp;the<br>
output&nbsp;netcdf&nbsp;file(s).&nbsp;&nbsp;It&nbsp;is&nbsp;determined&nbsp;by&nbsp;self.<strong>source</strong>.&nbsp;&nbsp;One&nbsp;of:<br>
&nbsp;&nbsp;&nbsp;'year'&nbsp;for&nbsp;separate&nbsp;files&nbsp;for&nbsp;each&nbsp;year,&nbsp;e.g.,&nbsp;1979,&nbsp;1980<br>
&nbsp;&nbsp;&nbsp;'month'&nbsp;for&nbsp;separate&nbsp;files&nbsp;for&nbsp;each&nbsp;calendar&nbsp;month,&nbsp;e.g.,&nbsp;197901,&nbsp;197902<br>
&nbsp;<br>
self.<strong>var_name</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;variable,&nbsp;e.g.,&nbsp;'uwnd'.<br>
&nbsp;<br>
self.<strong>standard_name</strong>&nbsp;:&nbsp;<br>
&nbsp;<br>
self.<strong>raw_name</strong>&nbsp;:&nbsp;string&nbsp;name&nbsp;of&nbsp;variable&nbsp;in&nbsp;the&nbsp;raw&nbsp;input&nbsp;file.<br>
&nbsp;<br>
self.<strong>level</strong>&nbsp;:&nbsp;integer&nbsp;single&nbsp;level,&nbsp;e.g.,&nbsp;200&nbsp;for&nbsp;200&nbsp;hPa.&nbsp;&nbsp;Level&nbsp;naming<br>
convention:<br>
&nbsp;&nbsp;&nbsp;1000,&nbsp;850,&nbsp;200,&nbsp;etc.&nbsp;for&nbsp;pressure&nbsp;level&nbsp;data&nbsp;(hPa)<br>
&nbsp;&nbsp;&nbsp;350,&nbsp;360,&nbsp;etc.&nbsp;for&nbsp;theta&nbsp;level&nbsp;data<br>
&nbsp;&nbsp;&nbsp;0&nbsp;for&nbsp;top&nbsp;of&nbsp;atmosphere,&nbsp;e.g.,&nbsp;olr<br>
&nbsp;&nbsp;&nbsp;1&nbsp;for&nbsp;surface,&nbsp;e.g.,&nbsp;sst<br>
&nbsp;&nbsp;&nbsp;Note&nbsp;there&nbsp;is&nbsp;no&nbsp;ambiguity&nbsp;between&nbsp;eg&nbsp;a&nbsp;350&nbsp;K&nbsp;theta&nbsp;level,&nbsp;and<br>
&nbsp;&nbsp;&nbsp;a&nbsp;350&nbsp;hPa&nbsp;pressure&nbsp;level,&nbsp;because&nbsp;of&nbsp;the&nbsp;self.<strong>level_type</strong><br>
&nbsp;&nbsp;&nbsp;attribute,&nbsp;which&nbsp;is&nbsp;determined&nbsp;by&nbsp;self.<strong>source</strong>.<br>
&nbsp;<br>
self.<strong>cube</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;data.&nbsp;&nbsp;This&nbsp;is&nbsp;the&nbsp;most&nbsp;important<br>
attribute&nbsp;of&nbsp;<a href="#DataConverter">DataConverter</a>.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;<a href="#DataConverter">DataConverter</a>&nbsp;is&nbsp;to<br>
convert&nbsp;self.<strong>cube</strong>&nbsp;to&nbsp;standard&nbsp;form&nbsp;and&nbsp;write&nbsp;it&nbsp;as&nbsp;a&nbsp;netcdf&nbsp;file.<br>
&nbsp;<br>
self.<strong>file_mask</strong>&nbsp;and&nbsp;self.<strong>mask</strong>.&nbsp;&nbsp;Default&nbsp;values&nbsp;are&nbsp;False.&nbsp;&nbsp;If&nbsp;the<br>
data&nbsp;is&nbsp;to&nbsp;be&nbsp;masked&nbsp;(e.g.,&nbsp;SST&nbsp;data&nbsp;to&nbsp;be&nbsp;masked&nbsp;with&nbsp;a&nbsp;land-sea<br>
mask),&nbsp;then&nbsp;file_mask&nbsp;is&nbsp;the&nbsp;path&nbsp;name&nbsp;for&nbsp;the&nbsp;mask,&nbsp;and&nbsp;mask&nbsp;is<br>
the&nbsp;array&nbsp;with&nbsp;the&nbsp;mask.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="DataConverter-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=True)</dt><dd><tt>Initialise&nbsp;from&nbsp;descriptor&nbsp;dictionary.</tt></dd></dl>

<dl><dt><a name="DataConverter-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="DataConverter-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="DataConverter-format_cube"><strong>format_cube</strong></a>(self)</dt><dd><tt>Change&nbsp;cube&nbsp;to&nbsp;standard&nbsp;format.<br>
&nbsp;<br>
There&nbsp;a&nbsp;few&nbsp;standard&nbsp;format&nbsp;changes&nbsp;applied&nbsp;to&nbsp;all&nbsp;data&nbsp;sets,<br>
followed&nbsp;by&nbsp;changes&nbsp;specific&nbsp;to&nbsp;particular&nbsp;data&nbsp;sets.</tt></dd></dl>

<dl><dt><a name="DataConverter-read_cube"><strong>read_cube</strong></a>(self)</dt><dd><tt>Read&nbsp;cube&nbsp;from&nbsp;raw&nbsp;input&nbsp;file.<br>
&nbsp;<br>
Code&nbsp;is&nbsp;by&nbsp;necessity&nbsp;ad&nbsp;hoc&nbsp;as&nbsp;it&nbsp;caters&nbsp;for&nbsp;many&nbsp;different<br>
data&nbsp;sources&nbsp;with&nbsp;different&nbsp;input&nbsp;formats.</tt></dd></dl>

<dl><dt><a name="DataConverter-write_cube"><strong>write_cube</strong></a>(self)</dt><dd><tt>Write&nbsp;standardised&nbsp;iris&nbsp;cube&nbsp;to&nbsp;netcdf&nbsp;file.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Hovmoller">class <strong>Hovmoller</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Create&nbsp;a&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;<a href="builtins.html#object">object</a>.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;hovmoller.py.<br>
&nbsp;<br>
Selected&nbsp;attributes:<br>
&nbsp;<br>
self.<strong>data_in</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;all&nbsp;input&nbsp;data.<br>
&nbsp;<br>
self.<strong>data_hov_current</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;of&nbsp;current&nbsp;data<br>
(e.g.,&nbsp;year).<br>
&nbsp;<br>
self.<strong>data_hov</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;all&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;data.<br>
&nbsp;<br>
self.<strong>file_data_in</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;input&nbsp;data.&nbsp;&nbsp;Contains&nbsp;a<br>
wild&nbsp;card&nbsp;*&nbsp;character,&nbsp;which&nbsp;will&nbsp;be&nbsp;replaced&nbsp;by,&nbsp;e.g.,&nbsp;year<br>
numbers&nbsp;(if&nbsp;self.<strong>outfile_frequency</strong>&nbsp;is&nbsp;'year').<br>
&nbsp;<br>
self.<strong>file_data_hov</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;data.<br>
Contains&nbsp;a&nbsp;wild&nbsp;card&nbsp;*&nbsp;character,&nbsp;which&nbsp;will&nbsp;be&nbsp;replaced&nbsp;by,&nbsp;e.g.,<br>
year&nbsp;numbers&nbsp;(if&nbsp;self.<strong>outfile_frequency</strong>&nbsp;is&nbsp;'year').<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Hovmoller-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Hovmoller-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Hovmoller-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Hovmoller-f_hovmoller"><strong>f_hovmoller</strong></a>(self)</dt><dd><tt>Create&nbsp;cube&nbsp;of&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;data&nbsp;and&nbsp;save.<br>
&nbsp;<br>
Create&nbsp;data_hov_current&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="Hovmoller-f_read_hovmoller"><strong>f_read_hovmoller</strong></a>(self)</dt><dd><tt>Read&nbsp;previously&nbsp;calculated&nbsp;<a href="#Hovmoller">Hovmoller</a>&nbsp;data.<br>
&nbsp;<br>
Create&nbsp;data_hov&nbsp;attribute.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Interpolate">class <strong>Interpolate</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Interpolate">Interpolate</a>&nbsp;data&nbsp;using&nbsp;iris.analysis.interpolate.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;interpolate.py.<br>
&nbsp;<br>
N.B.&nbsp;&nbsp;To&nbsp;decrease&nbsp;time&nbsp;resolution&nbsp;of&nbsp;data,&nbsp;e.g.,&nbsp;from&nbsp;3-hourly&nbsp;to<br>
daily,&nbsp;use&nbsp;the&nbsp;<a href="#TimeAverage">TimeAverage</a>&nbsp;class&nbsp;instead.<br>
&nbsp;<br>
Selected&nbsp;attributes:<br>
&nbsp;<br>
self.<strong>source1</strong>&nbsp;:&nbsp;input&nbsp;source,&nbsp;e.g.,&nbsp;sstrey_sfc_w&nbsp;weekly&nbsp;data.<br>
&nbsp;<br>
self.<strong>source2</strong>&nbsp;:&nbsp;output&nbsp;source,&nbsp;e.g.,&nbsp;sstrey_sfc_d&nbsp;daily&nbsp;data.&nbsp;&nbsp;The<br>
data_source&nbsp;and&nbsp;level_type&nbsp;parts&nbsp;of&nbsp;self.<strong>source1</strong>&nbsp;and&nbsp;self.<strong>source</strong>&nbsp;2<br>
should&nbsp;be&nbsp;identical.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Interpolate-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Interpolate-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Interpolate-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Interpolate-f_interpolate_time"><strong>f_interpolate_time</strong></a>(self)</dt><dd><tt><a href="#Interpolate">Interpolate</a>&nbsp;over&nbsp;time.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TimeAverage">class <strong>TimeAverage</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Time&nbsp;average&nbsp;data&nbsp;e.g.,&nbsp;convert&nbsp;from&nbsp;3-hourly&nbsp;to&nbsp;daily&nbsp;mean.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;time_average.py.<br>
&nbsp;<br>
Used&nbsp;to&nbsp;change&nbsp;(reduce)&nbsp;time&nbsp;resolution&nbsp;of&nbsp;data,&nbsp;for&nbsp;subsequent<br>
data&nbsp;analysis.&nbsp;&nbsp;Because&nbsp;the&nbsp;source&nbsp;attribute&nbsp;of&nbsp;a&nbsp;data&nbsp;set<br>
contains&nbsp;information&nbsp;on&nbsp;the&nbsp;time&nbsp;resolution,&nbsp;this&nbsp;effectively<br>
creates&nbsp;data&nbsp;with&nbsp;a&nbsp;different&nbsp;source.<br>
&nbsp;<br>
N.B.&nbsp;To&nbsp;calculate&nbsp;time&nbsp;mean&nbsp;statistics&nbsp;over&nbsp;a&nbsp;particular&nbsp;time<br>
domain,&nbsp;use&nbsp;the&nbsp;<a href="#TimeDomStats">TimeDomStats</a>&nbsp;class&nbsp;instead.<br>
&nbsp;<br>
N.B.&nbsp;&nbsp;To&nbsp;"increase"&nbsp;time&nbsp;resolution&nbsp;of&nbsp;data,&nbsp;e.g.,&nbsp;from&nbsp;weekly&nbsp;to<br>
daily,&nbsp;use&nbsp;the&nbsp;TimeInterpolate&nbsp;class&nbsp;instead.<br>
&nbsp;<br>
Selected&nbsp;attributes:<br>
&nbsp;<br>
self.<strong>source1</strong>&nbsp;:&nbsp;input&nbsp;source,&nbsp;e.g.,&nbsp;trmm3b42v7_sfc_3&nbsp;3-hourly&nbsp;data.<br>
&nbsp;<br>
self.<strong>source2</strong>&nbsp;:&nbsp;output&nbsp;source,&nbsp;e.g.,&nbsp;trmm3b42v7_sfc_d&nbsp;daily&nbsp;data.<br>
The&nbsp;data_source&nbsp;and&nbsp;level_type&nbsp;parts&nbsp;of&nbsp;self.<strong>source1</strong>&nbsp;and<br>
self.<strong>source</strong>&nbsp;2&nbsp;should&nbsp;be&nbsp;identical.<br>
&nbsp;<br>
self.<strong>frequency</strong>&nbsp;:&nbsp;the&nbsp;frequency&nbsp;part&nbsp;of&nbsp;self.<strong>source2</strong>,&nbsp;indicating<br>
what&nbsp;time&nbsp;resolution&nbsp;the&nbsp;input&nbsp;data&nbsp;is&nbsp;to&nbsp;be&nbsp;converted&nbsp;to,&nbsp;e.g.,<br>
'd'&nbsp;for&nbsp;daily.<br>
&nbsp;<br>
self.<strong>year</strong>&nbsp;and&nbsp;self.<strong>month</strong>&nbsp;:&nbsp;year&nbsp;(and&nbsp;month,&nbsp;depending&nbsp;on&nbsp;value&nbsp;of<br>
self.<strong>outfile_frequency</strong>)&nbsp;of&nbsp;input&nbsp;data&nbsp;block.<br>
&nbsp;<br>
self.<strong>filein1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;input&nbsp;files&nbsp;from&nbsp;self.<strong>source1</strong>.<br>
Probably&nbsp;contains&nbsp;wild&nbsp;card&nbsp;characters.<br>
&nbsp;<br>
self.<strong>data_in</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;all&nbsp;input&nbsp;data<br>
&nbsp;<br>
self.<strong>cube_in</strong>&nbsp;:&nbsp;input&nbsp;cube&nbsp;of&nbsp;data&nbsp;from&nbsp;self.<strong>source1</strong>&nbsp;for&nbsp;the<br>
current&nbsp;time&nbsp;block.<br>
&nbsp;<br>
self.<strong>cube_out</strong>&nbsp;:&nbsp;output&nbsp;cube&nbsp;of&nbsp;data&nbsp;for&nbsp;current&nbsp;time&nbsp;block&nbsp;to&nbsp;be<br>
saved&nbsp;under&nbsp;self.<strong>source2</strong>.<br>
&nbsp;<br>
self.<strong>fileout1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;output&nbsp;file&nbsp;under&nbsp;self.<strong>source2</strong>.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TimeAverage-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="TimeAverage-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="TimeAverage-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="TimeAverage-f_time_average"><strong>f_time_average</strong></a>(self)</dt><dd><tt>Time&nbsp;average&nbsp;data.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TimeDomStats">class <strong>TimeDomStats</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Time&nbsp;mean&nbsp;and&nbsp;other&nbsp;statistics&nbsp;of&nbsp;data&nbsp;over&nbsp;non-contiguous&nbsp;time&nbsp;domain.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;several&nbsp;scripts,&nbsp;including&nbsp;mean.py.<br>
&nbsp;<br>
All&nbsp;statistics&nbsp;calculations&nbsp;will&nbsp;be&nbsp;done&nbsp;by&nbsp;this&nbsp;class,&nbsp;so&nbsp;add<br>
further&nbsp;functions&nbsp;as&nbsp;needed.<br>
&nbsp;<br>
Selected&nbsp;attributes:<br>
&nbsp;<br>
self.<strong>tdomainid</strong>&nbsp;:&nbsp;string&nbsp;id&nbsp;of&nbsp;the&nbsp;time&nbsp;domain.<br>
&nbsp;<br>
self.<strong>tdomain</strong>&nbsp;:&nbsp;instance&nbsp;of&nbsp;<a href="#TimeDomain">TimeDomain</a>&nbsp;class&nbsp;for&nbsp;the&nbsp;time&nbsp;domain.<br>
&nbsp;<br>
self.<strong>filein1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;input&nbsp;files&nbsp;for&nbsp;data&nbsp;to&nbsp;calculate<br>
statistics&nbsp;from.&nbsp;&nbsp;Will&nbsp;likely&nbsp;contain&nbsp;wild&nbsp;card&nbsp;characters.<br>
&nbsp;<br>
self.<strong>fileout1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;output&nbsp;file&nbsp;of&nbsp;calculated&nbsp;statistic.<br>
&nbsp;<br>
self.<strong>cube_event_means</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;list&nbsp;of&nbsp;individual&nbsp;event&nbsp;means,<br>
i.e.,&nbsp;the&nbsp;time&nbsp;mean&nbsp;over&nbsp;each&nbsp;pair&nbsp;of&nbsp;(start,end)&nbsp;times&nbsp;in&nbsp;the<br>
time&nbsp;domain.<br>
&nbsp;<br>
self.<strong>cube_event_ntimes</strong>&nbsp;:&nbsp;list&nbsp;of&nbsp;integers&nbsp;with&nbsp;number&nbsp;of&nbsp;times<br>
that&nbsp;went&nbsp;into&nbsp;each&nbsp;even&nbsp;mean,&nbsp;e.g.,&nbsp;list&nbsp;of&nbsp;numbers&nbsp;of&nbsp;days&nbsp;in<br>
each&nbsp;event&nbsp;is&nbsp;data&nbsp;is&nbsp;daily.<br>
&nbsp;<br>
self.<strong>time_mean</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;time&nbsp;mean&nbsp;calculated&nbsp;over&nbsp;the&nbsp;whole<br>
time&nbsp;domain.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TimeDomStats-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialise&nbsp;from&nbsp;descriptor&nbsp;dictionary.</tt></dd></dl>

<dl><dt><a name="TimeDomStats-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="TimeDomStats-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="TimeDomStats-event_means"><strong>event_means</strong></a>(self)</dt><dd><tt>Calculate&nbsp;time&nbsp;mean&nbsp;and&nbsp;ntime&nbsp;for&nbsp;each&nbsp;event&nbsp;in&nbsp;time&nbsp;domain.<br>
&nbsp;<br>
Create&nbsp;cube_event_means&nbsp;and&nbsp;cube_event_ntimes&nbsp;attributes.</tt></dd></dl>

<dl><dt><a name="TimeDomStats-f_time_mean"><strong>f_time_mean</strong></a>(self)</dt><dd><tt>Calculate&nbsp;time&nbsp;mean&nbsp;over&nbsp;time&nbsp;domain&nbsp;and&nbsp;save&nbsp;to&nbsp;netcdf.<br>
&nbsp;<br>
Calculate&nbsp;this&nbsp;by&nbsp;a&nbsp;weighted&nbsp;(cube_event_ntimes)&nbsp;mean&nbsp;of&nbsp;the<br>
cube_event_means.&nbsp;&nbsp;Hence,&nbsp;each&nbsp;individual&nbsp;time&nbsp;(e.g.,&nbsp;day)&nbsp;in&nbsp;the<br>
original&nbsp;data&nbsp;has&nbsp;equal&nbsp;weighting.<br>
&nbsp;<br>
Create&nbsp;attribute&nbsp;time_mean</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TimeDomain">class <strong>TimeDomain</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>A&nbsp;set&nbsp;of&nbsp;single&nbsp;or&nbsp;paired&nbsp;(start,end)&nbsp;times.<br>
&nbsp;<br>
A&nbsp;set&nbsp;of&nbsp;single&nbsp;times&nbsp;can&nbsp;be&nbsp;used&nbsp;as&nbsp;the&nbsp;basis&nbsp;of&nbsp;(lagged)<br>
composite&nbsp;analysis.<br>
&nbsp;<br>
A&nbsp;set&nbsp;of&nbsp;paired&nbsp;(start,end)&nbsp;times&nbsp;can&nbsp;be&nbsp;used&nbsp;as&nbsp;the&nbsp;basis&nbsp;of<br>
calculating&nbsp;time&nbsp;means&nbsp;and&nbsp;other&nbsp;statistics.<br>
&nbsp;<br>
They&nbsp;have&nbsp;a&nbsp;unique&nbsp;string&nbsp;identifier,&nbsp;e.g.,&nbsp;'jul9899'.<br>
&nbsp;<br>
They&nbsp;are&nbsp;stored/archived&nbsp;as&nbsp;ascii&nbsp;files&nbsp;in<br>
/gpfs/home/e058/home/data/tdomain/<br>
&nbsp;<br>
Once&nbsp;created,&nbsp;the&nbsp;ascii&nbsp;time&nbsp;domain&nbsp;files&nbsp;should&nbsp;not&nbsp;be&nbsp;modified<br>
or&nbsp;deleted.&nbsp;&nbsp;A&nbsp;modified&nbsp;version&nbsp;of&nbsp;the&nbsp;time&nbsp;domain&nbsp;should&nbsp;be&nbsp;given<br>
a&nbsp;new&nbsp;id,&nbsp;and&nbsp;a&nbsp;new&nbsp;ascii&nbsp;file&nbsp;created&nbsp;for&nbsp;it.<br>
&nbsp;<br>
For&nbsp;historical&nbsp;reasons&nbsp;(from&nbsp;using&nbsp;the&nbsp;cdat&nbsp;module)&nbsp;the&nbsp;format&nbsp;of<br>
the&nbsp;ascii&nbsp;file&nbsp;is&nbsp;that&nbsp;from&nbsp;a&nbsp;print&nbsp;cdtime.comptime&nbsp;<a href="builtins.html#object">object</a>,<br>
e.g.&nbsp;for&nbsp;'jul9899':<br>
&nbsp;<br>
1998-07-01&nbsp;00:00:0.0,&nbsp;1998-07-31&nbsp;23:59:0.0<br>
1999-07-01&nbsp;00:00:0.0,&nbsp;1999-07-31&nbsp;23:59:0.0<br>
&nbsp;<br>
This&nbsp;format&nbsp;must&nbsp;be&nbsp;adhered&nbsp;to.<br>
&nbsp;<br>
The&nbsp;<a href="#TimeDomain">TimeDomain</a>&nbsp;class&nbsp;has&nbsp;methods&nbsp;to&nbsp;read&nbsp;and&nbsp;write&nbsp;these&nbsp;ascii<br>
files,&nbsp;and&nbsp;to&nbsp;convert&nbsp;to/from&nbsp;datetime&nbsp;objects,&nbsp;for&nbsp;use&nbsp;with&nbsp;iris<br>
scripts.<br>
&nbsp;<br>
Attributes:<br>
&nbsp;<br>
self.<strong>idx</strong>&nbsp;:&nbsp;unique&nbsp;string&nbsp;identifier,&nbsp;e.g.,&nbsp;'jul9899'.&nbsp;&nbsp;Must<br>
be&nbsp;supplied&nbsp;when&nbsp;creating&nbsp;instance&nbsp;of&nbsp;<a href="#TimeDomain">TimeDomain</a>&nbsp;class.<br>
&nbsp;<br>
self.<strong>basedir</strong>&nbsp;:&nbsp;directory&nbsp;path&nbsp;for&nbsp;timedomain&nbsp;ascii&nbsp;files.&nbsp;&nbsp;Has<br>
default&nbsp;value&nbsp;that&nbsp;can&nbsp;be&nbsp;overwritten&nbsp;as&nbsp;a&nbsp;keyword&nbsp;argument.<br>
&nbsp;<br>
self.<strong>filename</strong>&nbsp;:&nbsp;full&nbsp;path&nbsp;name&nbsp;for&nbsp;timedomain&nbsp;ascii&nbsp;file.&nbsp;&nbsp;Created<br>
from&nbsp;self.<strong>basedir</strong>&nbsp;and&nbsp;self.<strong>idx</strong>.<br>
&nbsp;<br>
self.<strong>_format2ascii</strong>&nbsp;:&nbsp;format&nbsp;used&nbsp;for&nbsp;conversion&nbsp;to&nbsp;ascii&nbsp;format.<br>
Do&nbsp;not&nbsp;change.<br>
&nbsp;<br>
self.<strong>_format2datetime</strong>&nbsp;:&nbsp;format&nbsp;used&nbsp;for&nbsp;conversion&nbsp;to&nbsp;datetime<br>
<a href="builtins.html#object">object</a>.&nbsp;&nbsp;Do&nbsp;not&nbsp;change.<br>
&nbsp;<br>
self.<strong>lines</strong>&nbsp;:&nbsp;ascii&nbsp;representation&nbsp;of&nbsp;timedomain.&nbsp;&nbsp;A&nbsp;nested&nbsp;list&nbsp;of<br>
strings.<br>
&nbsp;<br>
self.<strong>datetimes</strong>&nbsp;:&nbsp;datetime&nbsp;representation&nbsp;of&nbsp;timedomain.&nbsp;&nbsp;A&nbsp;nested<br>
list&nbsp;of&nbsp;datetime&nbsp;objects.<br>
&nbsp;<br>
self.<strong>type</strong>&nbsp;:&nbsp;either&nbsp;'single'&nbsp;or&nbsp;'event'.<br>
&nbsp;<br>
self.<strong>nevents</strong>&nbsp;:&nbsp;integer&nbsp;equivalent&nbsp;to&nbsp;length&nbsp;of&nbsp;self.<strong>lines</strong>,&nbsp;i.e.,&nbsp;number<br>
single&nbsp;times&nbsp;or&nbsp;events.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TimeDomain-__init__"><strong>__init__</strong></a>(self, idx, basedir='/gpfs/home/e058/home/data/tdomain/', verbose=True)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="TimeDomain-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="TimeDomain-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="TimeDomain-ascii2datetime"><strong>ascii2datetime</strong></a>(self)</dt><dd><tt>Convert&nbsp;ascii&nbsp;representation&nbsp;of&nbsp;timedomain&nbsp;to&nbsp;datetime&nbsp;representation.<br>
Create&nbsp;a&nbsp;datetimes&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="TimeDomain-ascii2partial_date_time"><strong>ascii2partial_date_time</strong></a>(self)</dt><dd><tt>Convert&nbsp;ascii&nbsp;representation&nbsp;of&nbsp;timedomain&nbsp;to&nbsp;PartialDateTime.<br>
&nbsp;<br>
Create&nbsp;a&nbsp;partial_date_times&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="TimeDomain-datetime2ascii"><strong>datetime2ascii</strong></a>(self)</dt><dd><tt>Convert&nbsp;datetime&nbsp;representation&nbsp;of&nbsp;timedomain&nbsp;to&nbsp;ascii.<br>
Create&nbsp;a&nbsp;lines&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="TimeDomain-f_nevents"><strong>f_nevents</strong></a>(self)</dt></dl>

<dl><dt><a name="TimeDomain-read_ascii"><strong>read_ascii</strong></a>(self)</dt><dd><tt>Read&nbsp;the&nbsp;ascii&nbsp;time&nbsp;domain&nbsp;file.<br>
&nbsp;<br>
Create&nbsp;a&nbsp;lines&nbsp;attribute.</tt></dd></dl>

<dl><dt><a name="TimeDomain-time_domain_type"><strong>time_domain_type</strong></a>(self)</dt><dd><tt>Determine&nbsp;if&nbsp;time&nbsp;domain&nbsp;is&nbsp;'single'&nbsp;or&nbsp;'event'&nbsp;type.<br>
&nbsp;<br>
'Single'&nbsp;type&nbsp;is&nbsp;list&nbsp;of&nbsp;single&nbsp;times.<br>
&nbsp;<br>
'Event'&nbsp;type&nbsp;is&nbsp;list&nbsp;of&nbsp;paired&nbsp;(start,end)&nbsp;times.</tt></dd></dl>

<dl><dt><a name="TimeDomain-write_ascii"><strong>write_ascii</strong></a>(self)</dt><dd><tt>Write&nbsp;the&nbsp;ascii&nbsp;file&nbsp;for&nbsp;a&nbsp;newly&nbsp;created&nbsp;time&nbsp;domain.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TimeFilter">class <strong>TimeFilter</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Time&nbsp;filter&nbsp;using&nbsp;rolling_window&nbsp;method&nbsp;of&nbsp;iris&nbsp;cube.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;filter.py.<br>
&nbsp;<br>
Assumes&nbsp;input&nbsp;data&nbsp;has&nbsp;equally&nbsp;spaced&nbsp;time&nbsp;intervals<br>
&nbsp;<br>
Attributes:<br>
&nbsp;<br>
self.<strong>weights</strong>&nbsp;:&nbsp;1-d&nbsp;numpy&nbsp;array&nbsp;of&nbsp;filter&nbsp;weights<br>
&nbsp;<br>
self.<strong>nn</strong>&nbsp;:&nbsp;integer&nbsp;value&nbsp;of&nbsp;order&nbsp;of&nbsp;filter.<br>
&nbsp;<br>
self.<strong>nweights</strong>&nbsp;:&nbsp;integer&nbsp;number&nbsp;of&nbsp;weights&nbsp;(length&nbsp;of&nbsp;self.<strong>weights</strong><br>
array.&nbsp;&nbsp;Must&nbsp;be&nbsp;odd.&nbsp;&nbsp;Filtered&nbsp;output&nbsp;will&nbsp;be&nbsp;a&nbsp;nweight&nbsp;running<br>
mean&nbsp;of&nbsp;the&nbsp;input&nbsp;data,&nbsp;using&nbsp;self.<strong>weights</strong>.<br>
&nbsp;<br>
self.<strong>nn</strong>&nbsp;:&nbsp;Equal&nbsp;to&nbsp;(nweights-1)/2,&nbsp;e.g.,&nbsp;if&nbsp;nweights=61,&nbsp;nn=30.<br>
Filtered&nbsp;output&nbsp;will&nbsp;be&nbsp;a&nbsp;61-point&nbsp;weighted&nbsp;mean&nbsp;of&nbsp;the&nbsp;30&nbsp;input<br>
data&nbsp;points&nbsp;before&nbsp;the&nbsp;current&nbsp;time,&nbsp;the&nbsp;current&nbsp;time&nbsp;itself,&nbsp;and<br>
the&nbsp;30&nbsp;intput&nbsp;data&nbsp;points&nbsp;after&nbsp;the&nbsp;current&nbsp;time.<br>
&nbsp;<br>
self.<strong>data_out</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;filtered&nbsp;output&nbsp;data.&nbsp;&nbsp;Length&nbsp;of&nbsp;time<br>
dimension&nbsp;is&nbsp;typically&nbsp;a&nbsp;convenient&nbsp;block&nbsp;of&nbsp;time,&nbsp;e.g.,&nbsp;1&nbsp;year<br>
for&nbsp;daily&nbsp;data.<br>
&nbsp;<br>
self.<strong>frequency</strong>&nbsp;:&nbsp;string&nbsp;to&nbsp;denote&nbsp;frequency&nbsp;of&nbsp;input&nbsp;(and&nbsp;output)<br>
data,&nbsp;e.g.,&nbsp;'d'&nbsp;for&nbsp;daily&nbsp;data.<br>
&nbsp;<br>
self.<strong>timeout1</strong>&nbsp;:&nbsp;datetime&nbsp;<a href="builtins.html#object">object</a>&nbsp;for&nbsp;start&nbsp;time&nbsp;of&nbsp;self.<strong>data_out</strong>.<br>
&nbsp;<br>
self.<strong>timeout2</strong>&nbsp;:&nbsp;datetime&nbsp;<a href="builtins.html#object">object</a>&nbsp;for&nbsp;end&nbsp;time&nbsp;of&nbsp;self.<strong>data_out</strong>.<br>
&nbsp;<br>
self.<strong>data_in</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;input&nbsp;data&nbsp;to&nbsp;be&nbsp;filtered.&nbsp;&nbsp;Length&nbsp;of<br>
time&nbsp;dimension&nbsp;is&nbsp;length&nbsp;of&nbsp;time&nbsp;dimension&nbsp;of&nbsp;self.<strong>data_out</strong>&nbsp;+<br>
2*self.<strong>nn</strong>&nbsp;(self.<strong>nn</strong>&nbsp;at&nbsp;the&nbsp;beginning,&nbsp;and&nbsp;self.<strong>nn</strong>&nbsp;at&nbsp;the&nbsp;end).<br>
&nbsp;<br>
self.<strong>timein1</strong>&nbsp;:&nbsp;datetime&nbsp;<a href="builtins.html#object">object</a>&nbsp;for&nbsp;start&nbsp;time&nbsp;of&nbsp;self.<strong>data_in</strong>.<br>
&nbsp;<br>
self.<strong>timein2</strong>&nbsp;:&nbsp;datetime&nbsp;<a href="builtins.html#object">object</a>&nbsp;for&nbsp;end&nbsp;time&nbsp;of&nbsp;self.<strong>data_in</strong>.<br>
&nbsp;<br>
self.<strong>filein1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;input&nbsp;data.<br>
&nbsp;<br>
self.<strong>fileout1</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file&nbsp;of&nbsp;output&nbsp;(filtered)&nbsp;data.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TimeFilter-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="TimeFilter-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="TimeFilter-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="TimeFilter-f_weights"><strong>f_weights</strong></a>(self)</dt><dd><tt>Create&nbsp;array&nbsp;of&nbsp;file&nbsp;weights.<br>
&nbsp;<br>
Read&nbsp;in&nbsp;file&nbsp;weights&nbsp;from&nbsp;ASCII&nbsp;text&nbsp;file.&nbsp;&nbsp;Must&nbsp;be&nbsp;in&nbsp;format:<br>
Line&nbsp;0:&nbsp;information&nbsp;on&nbsp;filter&nbsp;(not&nbsp;actually&nbsp;used&nbsp;here)<br>
Remaining&nbsp;lines:&nbsp;each&nbsp;line&nbsp;has&nbsp;a&nbsp;single&nbsp;float&nbsp;filter&nbsp;weight.<br>
&nbsp;<br>
If&nbsp;nlines&nbsp;is&nbsp;number&nbsp;of&nbsp;lines&nbsp;in&nbsp;the&nbsp;filter&nbsp;file,&nbsp;there&nbsp;are<br>
nweights=nlines-1&nbsp;filter&nbsp;weights.<br>
&nbsp;<br>
nweights&nbsp;must&nbsp;be&nbsp;odd.<br>
&nbsp;<br>
nn=(nfilter-1)/2<br>
&nbsp;<br>
Create&nbsp;nweights,&nbsp;nn&nbsp;and&nbsp;weights&nbsp;attributes.</tt></dd></dl>

<dl><dt><a name="TimeFilter-time_filter"><strong>time_filter</strong></a>(self)</dt><dd><tt>Filter&nbsp;using&nbsp;the&nbsp;rolling_window&nbsp;cube&nbsp;method&nbsp;and&nbsp;save&nbsp;data.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Wind">class <strong>Wind</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Create&nbsp;a&nbsp;<a href="#Wind">Wind</a>&nbsp;<a href="builtins.html#object">object</a>.<br>
&nbsp;<br>
Called&nbsp;from&nbsp;wind.py.<br>
&nbsp;<br>
Wrapper&nbsp;for&nbsp;windspharm&nbsp;VectorWind&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;handle&nbsp;file&nbsp;i/o.<br>
&nbsp;<br>
Attributes&nbsp;(following&nbsp;VectorWind):<br>
&nbsp;<br>
self.<strong>uwnd</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;u&nbsp;wind<br>
self.<strong>vwnd</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;v&nbsp;wind<br>
self.<strong>psi</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;streamfunction<br>
self.<strong>chi</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;velocity&nbsp;potential<br>
self.<strong>vrt</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;relative&nbsp;vorticity<br>
self.<strong>div</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;divergence<br>
self.<strong>wndspd</strong>&nbsp;:&nbsp;iris&nbsp;cube&nbsp;of&nbsp;wind&nbsp;speed<br>
&nbsp;<br>
self.<strong>flag_psi</strong>&nbsp;:&nbsp;Boolean&nbsp;flag&nbsp;to&nbsp;compute&nbsp;streamfunction<br>
or&nbsp;not.<br>
&nbsp;<br>
Similarly,&nbsp;self.<strong>flag_chi</strong>,&nbsp;self.<strong>flag_vrt</strong>,&nbsp;self.<strong>flag_div</strong><br>
&nbsp;<br>
self.<strong>file_data</strong>&nbsp;:&nbsp;path&nbsp;name&nbsp;for&nbsp;file(s)&nbsp;of&nbsp;input&nbsp;data.&nbsp;&nbsp;Contains&nbsp;a<br>
wild&nbsp;card&nbsp;*&nbsp;character,&nbsp;which&nbsp;will&nbsp;be&nbsp;replaced&nbsp;by,&nbsp;e.g.,&nbsp;year<br>
numbers&nbsp;(if&nbsp;self.<strong>outfile_frequency</strong>&nbsp;is&nbsp;'year').&nbsp;&nbsp;Contains&nbsp;a&nbsp;dummy<br>
string'VARNAME'&nbsp;to&nbsp;be&nbsp;replaced&nbsp;by&nbsp;'uwnd',&nbsp;'vwnd',&nbsp;'psi',&nbsp;etc.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Wind-__init__"><strong>__init__</strong></a>(self, descriptor, verbose=False)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="Wind-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Wind-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Wind-f_wind"><strong>f_wind</strong></a>(self)</dt><dd><tt>Calculate&nbsp;and&nbsp;save&nbsp;streamfunction&nbsp;etc.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-block_times"><strong>block_times</strong></a>(self, verbose=False)</dt><dd><tt>Set&nbsp;start&nbsp;and&nbsp;end&nbsp;times&nbsp;for&nbsp;current&nbsp;block.<br>
&nbsp;<br>
Input&nbsp;&lt;self&gt;&nbsp;is&nbsp;an&nbsp;<a href="builtins.html#object">object</a>&nbsp;with&nbsp;the&nbsp;following&nbsp;attributes:<br>
&nbsp;<br>
outfile_frequency:&nbsp;&nbsp;e.g.,&nbsp;'year'&nbsp;or&nbsp;'month'<br>
year:&nbsp;integer&nbsp;for&nbsp;current&nbsp;year,&nbsp;e.g.,&nbsp;2016<br>
month:&nbsp;integer&nbsp;for&nbsp;current&nbsp;month,&nbsp;in&nbsp;range&nbsp;1&nbsp;to&nbsp;12.<br>
&nbsp;<br>
Returns&nbsp;time,time2&nbsp;which&nbsp;are&nbsp;datetime.datetime&nbsp;objects&nbsp;for&nbsp;the<br>
start&nbsp;and&nbsp;end&nbsp;times&nbsp;for&nbsp;the&nbsp;current&nbsp;block.&nbsp;&nbsp;These&nbsp;are&nbsp;then<br>
typically&nbsp;used&nbsp;to&nbsp;create&nbsp;an&nbsp;iris&nbsp;constraint&nbsp;on&nbsp;time&nbsp;for&nbsp;extracting<br>
data.<br>
&nbsp;<br>
If&nbsp;outfile_frequency&nbsp;is&nbsp;'year',&nbsp;start&nbsp;and&nbsp;end&nbsp;times&nbsp;are&nbsp;00&nbsp;UTC&nbsp;on<br>
1&nbsp;Jan&nbsp;of&nbsp;current&nbsp;year,&nbsp;and&nbsp;1&nbsp;second&nbsp;before&nbsp;00&nbsp;UTC&nbsp;on&nbsp;1&nbsp;Jan&nbsp;the<br>
following&nbsp;year.<br>
&nbsp;<br>
If&nbsp;outfile_frequency&nbsp;is&nbsp;'month',&nbsp;start&nbsp;and&nbsp;end&nbsp;times&nbsp;are&nbsp;00&nbsp;UTC&nbsp;on<br>
1st&nbsp;of&nbsp;current&nbsp;month&nbsp;and&nbsp;year,&nbsp;and&nbsp;1&nbsp;second&nbsp;before&nbsp;00&nbsp;UTC&nbsp;on&nbsp;1st<br>
of&nbsp;the&nbsp;following&nbsp;month.</tt></dd></dl>
 <dl><dt><a name="-clean_callback"><strong>clean_callback</strong></a>(cube, field, filename)</dt><dd><tt>Deletes&nbsp;many&nbsp;attributes&nbsp;on&nbsp;iris&nbsp;load.<br>
&nbsp;<br>
Problem.&nbsp;&nbsp;iris&nbsp;concatenate&nbsp;and&nbsp;merge&nbsp;(to&nbsp;create&nbsp;a&nbsp;single&nbsp;cube&nbsp;from<br>
a&nbsp;cube&nbsp;list)&nbsp;is&nbsp;very&nbsp;picky&nbsp;and&nbsp;will&nbsp;fail&nbsp;if&nbsp;there&nbsp;are&nbsp;any<br>
mismatching&nbsp;metadata&nbsp;between&nbsp;the&nbsp;cubes.&nbsp;&nbsp;This&nbsp;function&nbsp;removes<br>
attributes&nbsp;from&nbsp;the&nbsp;time&nbsp;coordinate&nbsp;and&nbsp;basic&nbsp;metadata&nbsp;that<br>
typically&nbsp;fall&nbsp;foul&nbsp;of&nbsp;this.&nbsp;&nbsp;These&nbsp;attributes&nbsp;are&nbsp;not&nbsp;useful<br>
anyway.<br>
&nbsp;<br>
Data&nbsp;providers&nbsp;(such&nbsp;as&nbsp;NOAA)&nbsp;sometimes&nbsp;change&nbsp;the&nbsp;attributes<br>
(trivially)&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;their&nbsp;data&nbsp;sets,&nbsp;so&nbsp;these&nbsp;all&nbsp;need&nbsp;to<br>
be&nbsp;stripped&nbsp;out.<br>
&nbsp;<br>
Ideally,&nbsp;this&nbsp;clean&nbsp;callback&nbsp;will&nbsp;only&nbsp;be&nbsp;used&nbsp;in&nbsp;preprocess.py,<br>
and&nbsp;all&nbsp;subsequent&nbsp;analysis&nbsp;will&nbsp;not&nbsp;need&nbsp;it.&nbsp;&nbsp;Hence&nbsp;attributes<br>
that&nbsp;are&nbsp;built&nbsp;up&nbsp;during&nbsp;analysis&nbsp;will&nbsp;be&nbsp;self-consistent&nbsp;and&nbsp;will<br>
not&nbsp;need&nbsp;removing.<br>
&nbsp;<br>
Usage:&nbsp;as&nbsp;an&nbsp;argument&nbsp;in&nbsp;iris&nbsp;load&nbsp;&nbsp;(...,callback=clean_callback).</tt></dd></dl>
 <dl><dt><a name="-conv_float32"><strong>conv_float32</strong></a>(old_array)</dt><dd><tt>Convert&nbsp;a&nbsp;numpy&nbsp;array&nbsp;type&nbsp;to&nbsp;float32&nbsp;('single&nbsp;precision').<br>
&nbsp;<br>
Default&nbsp;numpy&nbsp;array&nbsp;type&nbsp;is&nbsp;float64&nbsp;(64&nbsp;bit,&nbsp;or&nbsp;'double<br>
precision').&nbsp;&nbsp;This&nbsp;leads&nbsp;to&nbsp;a&nbsp;doubling&nbsp;of&nbsp;disk&nbsp;space&nbsp;needed&nbsp;to<br>
store&nbsp;data,&nbsp;compared&nbsp;to&nbsp;float32&nbsp;(32&nbsp;bit,&nbsp;'single&nbsp;precision'),&nbsp;with<br>
only&nbsp;spurious&nbsp;increase&nbsp;in&nbsp;precision.<br>
&nbsp;<br>
It&nbsp;is&nbsp;not&nbsp;a&nbsp;problem&nbsp;having&nbsp;float64&nbsp;type&nbsp;numbers&nbsp;in&nbsp;memory,&nbsp;only<br>
when&nbsp;they&nbsp;are&nbsp;written&nbsp;to&nbsp;disk.&nbsp;&nbsp;Hence,&nbsp;just&nbsp;call&nbsp;this&nbsp;function&nbsp;as<br>
a&nbsp;final&nbsp;wrapper&nbsp;for&nbsp;a&nbsp;numpy&nbsp;array&nbsp;that&nbsp;is&nbsp;about&nbsp;to&nbsp;be&nbsp;converted&nbsp;to<br>
an&nbsp;iris&nbsp;cube.&nbsp;&nbsp;Do&nbsp;not&nbsp;bother&nbsp;with&nbsp;all&nbsp;the&nbsp;previous&nbsp;intermediate<br>
steps,&nbsp;as&nbsp;float64&nbsp;is&nbsp;insidious&nbsp;and&nbsp;can&nbsp;easily&nbsp;creep&nbsp;back&nbsp;into&nbsp;to<br>
your&nbsp;arrays&nbsp;somewhere.<br>
&nbsp;<br>
Input:&nbsp;old_array&nbsp;should&nbsp;be&nbsp;a&nbsp;numpy&nbsp;array.<br>
&nbsp;<br>
Returns&nbsp;new_array,&nbsp;a&nbsp;numpy&nbsp;array&nbsp;of&nbsp;type&nbsp;float32.</tt></dd></dl>
 <dl><dt><a name="-create_cube"><strong>create_cube</strong></a>(array, oldcube)</dt><dd><tt>Create&nbsp;an&nbsp;iris&nbsp;cube&nbsp;from&nbsp;a&nbsp;numpy&nbsp;array&nbsp;and&nbsp;attributes&nbsp;from&nbsp;an&nbsp;old&nbsp;cube.<br>
&nbsp;<br>
Return&nbsp;newcube.</tt></dd></dl>
 <dl><dt><a name="-source_info"><strong>source_info</strong></a>(self)</dt><dd><tt>Create&nbsp;attributes&nbsp;based&nbsp;on&nbsp;the&nbsp;source&nbsp;attribute.<br>
&nbsp;<br>
Attributes&nbsp;created&nbsp;are:<br>
&nbsp;<br>
data_source:&nbsp;&nbsp;e.g.,&nbsp;'ncepdoe',&nbsp;'olrinterp'<br>
level_type:&nbsp;&nbsp;e.g.,&nbsp;'plev'&nbsp;for&nbsp;pressure&nbsp;level,&nbsp;'toa'&nbsp;for&nbsp;top&nbsp;of&nbsp;atmosphere<br>
frequency:&nbsp;e.g.,&nbsp;'d'&nbsp;for&nbsp;daily,&nbsp;'3'&nbsp;for&nbsp;3-hourly</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>division</strong> = _Feature((2, 2, 0, 'alpha', 2), (3, 0, 0, 'alpha', 0), 8192)<br>
<strong>h1a</strong> = '&lt;&lt;&lt;=============================================================<font color="#c040c0">\n</font>'<br>
<strong>h1b</strong> = '=============================================================&gt;&gt;&gt;<font color="#c040c0">\n</font>'<br>
<strong>h2a</strong> = '&lt;&lt;&lt;---------------------------<font color="#c040c0">\n</font>'<br>
<strong>h2b</strong> = '---------------------------&gt;&gt;&gt;<font color="#c040c0">\n</font>'<br>
<strong>print_function</strong> = _Feature((2, 6, 0, 'alpha', 2), (3, 0, 0, 'alpha', 0), 65536)<br>
<strong>var_name2standard_name</strong> = {'chi': 'atmosphere_horizontal_velocity_potential', 'div': 'divergence_of_wind', 'ke': 'specific_kinetic_energy_of_air', 'lhfd': 'surface_downward_latent_heat_flux', 'mslp': 'air_pressure_at_sea_level', 'olr': 'toa_outgoing_longwave_flux', 'omega': 'lagrangian_tendency_of_air_pressure', 'ppt': 'lwe_precipitation_rate', 'psfc': 'surface_air_pressure', 'psi': 'atmosphere_horizontal_streamfunction', ...}<br>
<strong>with_statement</strong> = _Feature((2, 5, 0, 'alpha', 1), (2, 6, 0, 'alpha', 0), 32768)</td></tr></table>
</body></html>